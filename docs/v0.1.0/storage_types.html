
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Storage types · Daf.jl v0.1.0
</title>
<meta name="title" content="Storage types · Daf.jl v0.1.0"/>
<meta property="og:title" content="Storage types · Daf.jl v0.1.0"/>
<meta property="twitter:title" content="Storage types · Daf.jl v0.1.0"/>
<meta name="description" content="Documentation for Daf.jl v0.1.0."/>
<meta property="og:description" content="Documentation for Daf.jl v0.1.0."/>
<meta property="twitter:description" content="Documentation for Daf.jl v0.1.0."/>
<script data-outdated-warner src="assets/warner.js">
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/>
<script>documenterBaseURL="."
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js">
</script>
<script src="search_index.js">
</script>
<script src="siteinfo.js">
</script>
<script src="../versions.js">
</script>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/>
<script src="assets/themeswap.js">
</script>
</head>
<body>
<div id="documenter">
<nav class="docs-sidebar">
<a class="docs-logo" href="index.html">
<img src="assets/logo.svg" alt="Daf.jl v0.1.0 logo"/>
</a>
<div class="docs-package-name">
<span class="docs-autofit">
<a href="index.html">Daf.jl v0.1.0
</a>
</span>
</div>
<button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)
</button>
<ul class="docs-menu">
<li>
<a class="tocitem" href="index.html">Daf
</a>
</li>
<li>
<a class="tocitem" href="readers.html">Readers
</a>
</li>
<li>
<a class="tocitem" href="writers.html">Writers
</a>
</li>
<li>
<a class="tocitem" href="read_only.html">Read-only
</a>
</li>
<li>
<a class="tocitem" href="queries.html">Queries
</a>
</li>
<li>
<a class="tocitem" href="tokens.html">Tokens
</a>
</li>
<li>
<a class="tocitem" href="views.html">Views
</a>
</li>
<li>
<a class="tocitem" href="chains.html">Chains
</a>
</li>
<li>
<a class="tocitem" href="computations.html">Computations
</a>
</li>
<li>
<a class="tocitem" href="copies.html">Copies
</a>
</li>
<li>
<a class="tocitem" href="concat.html">Concat
</a>
</li>
<li>
<a class="tocitem" href="adapters.html">Adapters
</a>
</li>
<li>
<a class="tocitem" href="contracts.html">Contracts
</a>
</li>
<li>
<a class="tocitem" href="formats.html">Formats
</a>
</li>
<li>
<a class="tocitem" href="memory_format.html">Memory Format
</a>
</li>
<li>
<a class="tocitem" href="h5df_format.html">H5DF Format
</a>
</li>
<li>
<a class="tocitem" href="files_format.html">Files Format
</a>
</li>
<li>
<a class="tocitem" href="anndata_format.html">AnnData Format
</a>
</li>
<li>
<a class="tocitem" href="reconstruction.html">Reconstruction
</a>
</li>
<li>
<a class="tocitem" href="registry.html">Operations registry
</a>
</li>
<li>
<a class="tocitem" href="operations.html">Query operations
</a>
</li>
<li class="is-active">
<a class="tocitem" href="storage_types.html">Storage types
</a>
<ul class="internal">
<li class="toplevel">
<a class="tocitem" href="#Storable-types">
<span>Storable types
</span>
</a>
</li>
<li class="toplevel">
<a class="tocitem" href="#Constructors">
<span>Constructors
</span>
</a>
</li>
<li class="toplevel">
<a class="tocitem" href="#Storable-types-2">
<span>Storable types
</span>
</a>
</li>
<li>
<a class="tocitem" href="#Index">
<span>Index
</span>
</a>
</li>
</ul>
</li>
<li>
<a class="tocitem" href="matrix_layouts.html">Matrix layouts
</a>
</li>
<li>
<a class="tocitem" href="groups.html">Groups
</a>
</li>
<li>
<a class="tocitem" href="messages.html">Messages
</a>
</li>
<li>
<a class="tocitem" href="generic_logging.html">Generic Logging
</a>
</li>
<li>
<a class="tocitem" href="generic_locks.html">Generic Locks
</a>
</li>
<li>
<a class="tocitem" href="generic_types.html">Generic Types
</a>
</li>
<li>
<a class="tocitem" href="generic_functions.html">Generic Functions
</a>
</li>
<li>
<a class="tocitem" href="example_data.html">Example data
</a>
</li>
</ul>
<div class="docs-version-selector field has-addons">
<div class="control">
<span class="docs-label button is-static is-size-7">Version
</span>
</div>
<div class="docs-selector control is-expanded">
<div class="select is-fullwidth is-size-7">
<select id="documenter-version-selector">
</select>
</div>
</div>
</div>
</nav>
<div class="docs-main">
<header class="docs-navbar">
<a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#">
</a>
<nav class="breadcrumb">
<ul class="is-hidden-mobile">
<li class="is-active">
<a href="storage_types.html">Storage types
</a>
</li>
</ul>
<ul class="is-hidden-tablet">
<li class="is-active">
<a href="storage_types.html">Storage types
</a>
</li>
</ul>
</nav>
<div class="docs-right">
<a class="docs-navbar-link" href="https://github.com/tanaylab/Daf.jl/blob/main{path}?plain=1#L{line}" title="View the repository on GitHub">
<span class="docs-icon fa-brands">
</span>
<span class="docs-label is-hidden-touch">GitHub
</span>
</a>
<a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings">
</a>
<a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings">
</a>
</div>
</header>
<article class="content" id="documenter-page">
<h1 id="Storage-types">
<a class="docs-heading-anchor" href="#Storage-types">Storage types
</a>
<a id="Storage-types-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Storage-types" title="Permalink">
</a>
</h1>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes" href="#Daf.StorageTypes">
<code>Daf.StorageTypes
</code>
</a> — 
<span class="docstring-category">Module
</span>
</header>
<section>
<div>
<p>Only a restricted set of scalar, matrix and vector types is stored by 
<code>Daf
</code>.
</p>
<p>The set of scalar types is restricted because we need to be able to store them in disk files. This rules out compound types such as 
<code>Dict
</code>. This isn&#39;t an issue for vector and matrix elements but is sometimes bothersome for &quot;scalar&quot; data (not associated with any axis). If you find yourself needed to store such data, you&#39;ll have to serialize it to a string. By convention, we use 
<code>JSON
</code> blobs for such data to maximize portability between different systems.
</p>
<p>Julia supports a potentially infinite variety of ways to represent matrices and vectors. 
<code>Daf
</code> is intentionally restricted to specific representations. This has several advantages:
</p>
<ul>
<li>
<p>
<code>Daf
</code> storage formats need only implement storing these restricted representations, which lend themselves to simple storage in consecutive bytes (in memory and/or on disk). These representations also allow for memory-mapping the data from disk files, which allows 
<code>Daf
</code> to deal with data sets larger than the available memory.
</p>
</li>
<li>
<p>Client code need only worry about dealing with these restricted representations, which limits the amount of code paths required for efficient algorithm implementations. However, you (mostly) need not worry about this when invoking library functions, which have code paths covering all common matrix types. You 
<strong>do
</strong> need to consider the layout of the data, though (see below).
</p>
</li>
</ul>
<p>This has the downside that 
<code>Daf
</code> doesn&#39;t support efficient storage of specialized matrices (to pick a random example, upper triangular matrices). This isn&#39;t a great loss, since 
<code>Daf
</code> targets storing arbitrary scientific data (especially biological data), which in general is not of any such special shape. The upside is that all matrices stored and returned by 
<code>Daf
</code> have a clear 
<a href="matrix_layouts.html#Daf.MatrixLayouts">
<code>MatrixLayouts
</code>
</a> (regardless of whether they are dense or sparse). This allows user code to ensure it is working &quot;with the grain&quot; of the data, which is 
<strong>much
</strong> more efficient.
</p>
</div>
</section>
</article>
<h1 id="Storable-types">
<a class="docs-heading-anchor" href="#Storable-types">Storable types
</a>
<a id="Storable-types-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Storable-types" title="Permalink">
</a>
</h1>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.StorageInteger" href="#Daf.StorageTypes.StorageInteger">
<code>Daf.StorageTypes.StorageInteger
</code>
</a> — 
<span class="docstring-category">Type
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">StorageInteger = Union{Int8, UInt8, Int16, UInt16, Int32, UInt32, Int64, UInt64}
</code>
</pre>
<p>Integer number types that can be used as scalars, or elements in stored matrices or vectors.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.StorageFloat" href="#Daf.StorageTypes.StorageFloat">
<code>Daf.StorageTypes.StorageFloat
</code>
</a> — 
<span class="docstring-category">Type
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">StorageFloat = Union{Float32, Float64}
</code>
</pre>
<p>Floating point number types that can be used as scalars, or elements in stored matrices or vectors.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.StorageNumber" href="#Daf.StorageTypes.StorageNumber">
<code>Daf.StorageTypes.StorageNumber
</code>
</a> — 
<span class="docstring-category">Type
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">StorageNumber = Union{Bool, StorageInteger, StorageFloat}
</code>
</pre>
<p>Number types that can be used as scalars, or elements in stored matrices or vectors.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.StorageScalar" href="#Daf.StorageTypes.StorageScalar">
<code>Daf.StorageTypes.StorageScalar
</code>
</a> — 
<span class="docstring-category">Type
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">StorageScalar = Union{StorageNumber, S} where {S &lt;: AbstractString}
</code>
</pre>
<p>Types that can be used as scalars, or elements in stored matrices or vectors.
</p>
<p>This is restricted to 
<a href="storage_types.html#Daf.StorageTypes.StorageNumber">
<code>StorageNumber
</code>
</a> (including Booleans) and strings. It is arguably too restrictive, as in principle we could support any arbitrary 
<code>isbitstype
</code>. However, in practice this would cause much trouble when accessing the data from other systems (specifically Python and R). Since 
<code>Daf
</code> targets storing scientific data (especially biological data), as opposed to &quot;anything at all&quot;, this restriction seems reasonable.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.StorageScalarBase" href="#Daf.StorageTypes.StorageScalarBase">
<code>Daf.StorageTypes.StorageScalarBase
</code>
</a> — 
<span class="docstring-category">Type
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">StorageScalarBase = Union{StorageNumber, AbstractString}
</code>
</pre>
<p>For using in 
<code>where
</code> clauses when a type needs to be a 
<a href="storage_types.html#Daf.StorageTypes.StorageScalar">
<code>StorageScalar
</code>
</a>. That is, write 
<code>where {T &lt;: StorageScalarBase}
</code> instead of 
<code>where {T &lt;: StorageScalar}
</code>, because of the limitations of Julia&#39;s type system.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.StorageVector" href="#Daf.StorageTypes.StorageVector">
<code>Daf.StorageTypes.StorageVector
</code>
</a> — 
<span class="docstring-category">Type
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">StorageVector{T} = AbstractVector{T} where {T &lt;: StorageScalar}
</code>
</pre>
<p>Vectors that can be directly stored (and fetched) from 
<code>Daf
</code> storage.
</p>
<p>The element type must be a 
<a href="storage_types.html#Daf.StorageTypes.StorageScalar">
<code>StorageScalar
</code>
</a>, to allow storing the data in disk files. Vectors of strings are supported but will be less efficient.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.StorageMatrix" href="#Daf.StorageTypes.StorageMatrix">
<code>Daf.StorageTypes.StorageMatrix
</code>
</a> — 
<span class="docstring-category">Type
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">StorageMatrix{T} = AbstractMatrix{T} where {T &lt;: StorageNumber}
</code>
</pre>
<p>Matrices that can be directly stored (and fetched) from 
<code>Daf
</code> storage.
</p>
<p>The element type must be a 
<a href="storage_types.html#Daf.StorageTypes.StorageNumber">
<code>StorageNumber
</code>
</a>, to allow efficient storage of the data in disk files. That is, matrices of strings are 
<strong>not
</strong> supported.
</p>
<div class="admonition is-info">
<header class="admonition-header">Note
</header>
<div class="admonition-body">
<p>All matrices we store must have a clear 
<a href="matrix_layouts.html#Daf.MatrixLayouts">
<code>MatrixLayouts
</code>
</a>, that is, must be in either row-major or column-major format.
</p>
</div>
</div>
</div>
</section>
</article>
<h1 id="Constructors">
<a class="docs-heading-anchor" href="#Constructors">Constructors
</a>
<a id="Constructors-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Constructors" title="Permalink">
</a>
</h1>
<h1 id="Storable-types-2">
<a class="docs-heading-anchor" href="#Storable-types-2">Storable types
</a>
<a class="docs-heading-anchor-permalink" href="#Storable-types-2" title="Permalink">
</a>
</h1>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.sparse_vector" href="#Daf.StorageTypes.sparse_vector">
<code>Daf.StorageTypes.sparse_vector
</code>
</a> — 
<span class="docstring-category">Function
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">sparse_vector(dense::StorageMatrix)::SparseVector
</code>
</pre>
<p>Create a sparse vector using the smallest unsigned integer type needed for this size of matrix.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Daf.StorageTypes.sparse_matrix_csc" href="#Daf.StorageTypes.sparse_matrix_csc">
<code>Daf.StorageTypes.sparse_matrix_csc
</code>
</a> — 
<span class="docstring-category">Function
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">sparse_matrix_csc(dense::StorageMatrix)::SparseMatrixCSC
</code>
</pre>
<p>Create a sparse matrix using the smallest unsigned integer type needed for this size of matrix.
</p>
</div>
</section>
</article>
<h2 id="Index">
<a class="docs-heading-anchor" href="#Index">Index
</a>
<a id="Index-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Index" title="Permalink">
</a>
</h2>
<ul>
<li>
<a href="storage_types.html#Daf.StorageTypes">
<code>Daf.StorageTypes
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.StorageFloat">
<code>Daf.StorageTypes.StorageFloat
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.StorageInteger">
<code>Daf.StorageTypes.StorageInteger
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.StorageMatrix">
<code>Daf.StorageTypes.StorageMatrix
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.StorageNumber">
<code>Daf.StorageTypes.StorageNumber
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.StorageScalar">
<code>Daf.StorageTypes.StorageScalar
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.StorageScalarBase">
<code>Daf.StorageTypes.StorageScalarBase
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.StorageVector">
<code>Daf.StorageTypes.StorageVector
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.sparse_matrix_csc">
<code>Daf.StorageTypes.sparse_matrix_csc
</code>
</a>
</li>
<li>
<a href="storage_types.html#Daf.StorageTypes.sparse_vector">
<code>Daf.StorageTypes.sparse_vector
</code>
</a>
</li>
</ul>
</article>
<nav class="docs-footer">
<a class="docs-footer-prevpage" href="operations.html">« Query operations
</a>
<a class="docs-footer-nextpage" href="matrix_layouts.html">Matrix layouts »
</a>
<div class="flexbox-break">
</div>
<p class="footer-message">Powered by 
<a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl
</a> and the 
<a href="https://julialang.org/">Julia Programming Language
</a>.
</p>
</nav>
</div>
<div class="modal" id="documenter-settings">
<div class="modal-background">
</div>
<div class="modal-card">
<header class="modal-card-head">
<p class="modal-card-title">Settings
</p>
<button class="delete">
</button>
</header>
<section class="modal-card-body">
<p>
<label class="label">Theme
</label>
<div class="select">
<select id="documenter-themepicker">
<option value="auto">Automatic (OS)
</option>
<option value="documenter-light">documenter-light
</option>
<option value="documenter-dark">documenter-dark
</option>
</select>
</div>
</p>
<hr/>
<p>This document was generated with 
<a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl
</a> version 1.4.1. Using Julia version 1.10.0.
</p>
</section>
<footer class="modal-card-foot">
</footer>
</div>
</div>
</div>
</body>
</html>
